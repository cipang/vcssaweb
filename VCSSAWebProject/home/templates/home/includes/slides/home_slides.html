{% load wagtailcore_tags wagtailimages_tags menu_tags global_tags static %}

<link rel="stylesheet" href="{% static 'css/home_slides.css' %}">
{#<script type="text/javascript" src="{% static 'js/flickity.pkgd.js' %}"></script>#}


<div class="content-container-fluid">
    <h2 class="block-title">
        {{ page.intro }}
    </h2>

    <div class="carousel" id="image-carousel"
         data-flickity='{ "freeScroll": true, "wrapAround": true }'>
        {% for block in page.posters %}
            {% image block.value original as coverimage %}
            <img class="carousel-cell" src="{{ coverimage.url }}" alt="{{ coverimage.alt }}">

        {% endfor %}
    </div>
</div>
<br>

<script>
        {#let slide = document.getElementsByClassName("flickity-button flickity-prev-next-button next");#}
        {#slide[0].click();#}

    {#var autoPlayIntervals = [#}
    {#    1500,#}
    {#    1500,#}
    {#    3000,#}
    {#    3000,#}
    {#    5000,#}
    {#    1500,#}
    {#    1500,#}
    {#    5000,#}
    {#    3000,#}
    {#];#}
    {##}
    {#var $carousel = $('.carousel').flickity({autoPlay: autoPlayIntervals[0]});#}
    {#var flkty = $carousel.data('flickity');#}

</script>
